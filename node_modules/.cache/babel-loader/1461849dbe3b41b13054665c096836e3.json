{"remainingRequest":"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/babel-loader/lib/index.js!/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/vuetify-loader/lib/loader.js!/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/src/components/addGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/src/components/addGroup.vue","mtime":1547137035906},{"path":"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/cache-loader/dist/cjs.js","mtime":1546620803624},{"path":"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/babel-loader/lib/index.js","mtime":1546620794588},{"path":"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/vuetify-loader/lib/loader.js","mtime":1546620811655},{"path":"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/cache-loader/dist/cjs.js","mtime":1546620803624},{"path":"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/vue-loader/lib/index.js","mtime":1546620804030}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/jaredrussellworkman/Desktop/HADDY/caddyworkflow/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { createGroup, getGroup, deleteGroup, updateGroup } from '../modules/groupController.js';\nimport { login, register, updateUser, updateUserGroup } from '../modules/loginController.js';\nimport { mapState } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      name: '',\n      members: [],\n      owners: [],\n      inputRules: [function (v) {\n        return v.length >= 3 || 'Minimum length is 3 characters';\n      }],\n      dialog: false,\n      loading: false\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    user: 'user'\n  })),\n  methods: {\n    submit: function () {\n      var _submit = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var uuidv4, id, projects, owners, members, name, group;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                uuidv4 = require('uuid/v4');\n                id = uuidv4();\n                projects = [];\n                owners = this.owners;\n                owners.push(this.user.id);\n                members = this.members;\n                name = this.name;\n                _context.next = 9;\n                return createGroup(id, name, owners, projects, members);\n\n              case 9:\n                group = _context.sent;\n                this.$store.commit('createGroup', group);\n                members.forEach(function (member) {\n                  updateUserGroup(member, id);\n                });\n                this.loading = true;\n                this.user.groups.push(id); //update each member of the group\n\n                updateUser(this.user);\n                setTimeout(function () {\n                  _this.loading = false;\n                  _this.dialog = false;\n\n                  _this.$emit('memberAdded');\n                }, 1000);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function submit() {\n        return _submit.apply(this, arguments);\n      }\n\n      return submit;\n    }()\n  }\n};",{"version":3,"sources":["addGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,SAAA,WAAA,EAAA,QAAA,EAAA,WAAA,EAAA,WAAA,QAAA,+BAAA;AACA,SAAA,KAAA,EAAA,QAAA,EAAA,UAAA,EAAA,eAAA,QAAA,+BAAA;AACA,SAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA,CACA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,MAAA,IAAA,CAAA,IAAA,gCAAA;AAAA,OADA,CAJA;AAOA,MAAA,MAAA,EAAA,KAPA;AAQA,MAAA,OAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAaA,EAAA,QAAA,oBACA,QAAA,CAAA;AACA,IAAA,IAAA,EAAA;AADA,GAAA,CADA,CAbA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA,OAAA,CAAA,SAAA,CAFA;AAGA,gBAAA,EAHA,GAGA,MAAA,EAHA;AAIA,gBAAA,QAJA,GAIA,EAJA;AAKA,gBAAA,MALA,GAKA,KAAA,MALA;AAMA,gBAAA,MAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAAA,EAAA;AACA,gBAAA,OAPA,GAOA,KAAA,OAPA;AAQA,gBAAA,IARA,GAQA,KAAA,IARA;AAAA;AAAA,uBASA,WAAA,CAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,QAAA,EAAA,OAAA,CATA;;AAAA;AASA,gBAAA,KATA;AAUA,qBAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA;AACA,gBAAA,OAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,kBAAA,eAAA,CAAA,MAAA,EAAA,EAAA,CAAA;AACA,iBAFA;AAGA,qBAAA,OAAA,GAAA,IAAA;AACA,qBAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,EAfA,CAgBA;;AACA,gBAAA,UAAA,CAAA,KAAA,IAAA,CAAA;AACA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,kBAAA,KAAA,CAAA,MAAA,GAAA,KAAA;;AACA,kBAAA,KAAA,CAAA,KAAA,CAAA,aAAA;AACA,iBAJA,EAIA,IAJA,CAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAlBA,CAAA","sourcesContent":["<template>\n\t<v-dialog max-width='600px' transition='dialog-transition' v-model='dialog'>\n\t\t<v-btn small flat slot='activator' class='tertiary--text'>\n\t\t\t<v-icon>add</v-icon>\n\t\t\t<span>Group</span>\n\t\t</v-btn>\n\t\t<v-card>\n\t\t\t<v-card-title>\n\t\t\t\t<h2 class='font-weight-light'>Add Group</h2>\n\t\t\t</v-card-title>\n\t\t\t<v-card-text>\n\t\t\t\t<v-form class='px-3' ref='form'>\n\t\t\t\t\t<v-text-field label='Name' v-model='name' prepend-icon='person'></v-text-field>\n\t\t\t\t\t<v-combobox\n\t\t\t\t\t\tlabel='Invite group members'\n\t\t\t\t\t\tv-model='members'\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tchips\n\t\t\t\t\t\tprepend-icon='people'\n\t\t\t\t\t></v-combobox>\n\t\t\t\t\t<v-combobox\n\t\t\t\t\t\tlabel='Invite other group owners'\n\t\t\t\t\t\tv-model='owners'\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tchips\n\t\t\t\t\t\tprepend-icon='person'\n\t\t\t\t\t></v-combobox>\n\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t<v-btn\n\t\t\t\t\t\tflat outline \n\t\t\t\t\t\tclass='primary mx-0 mt-3 primary--text' \n\t\t\t\t\t\t@click='submit'\n\t\t\t\t\t\t:loading='loading'\n\t\t\t\t\t>Submit</v-btn>\n\t\t\t\t</v-form>\n\t\t\t</v-card-text>\n\t\t</v-card>\n\t</v-dialog>\n</template>\n\n<script>\nimport {createGroup, getGroup, deleteGroup, updateGroup} from '../modules/groupController.js';\nimport {login, register, updateUser, updateUserGroup} from '../modules/loginController.js';\nimport {mapState} from 'vuex';\n\nexport default {\n  data() {\n\t\treturn {\n\t\t\tname: '',\n\t\t\tmembers: [],\n\t\t\towners: [],\n\t\t\tinputRules: [\n\t\t\t\tv => v.length >= 3 || 'Minimum length is 3 characters'\n\t\t\t],\n\t\t\tdialog: false,\n\t\t\tloading: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tuser: 'user',\n\t\t})\n\t},\n\tmethods: {\n\t\tasync submit() {\n\t\t\tconst uuidv4 = require('uuid/v4');\n\t\t\tconst id = uuidv4();\n\t\t\tconst projects = [];\n\t\t\tconst owners = this.owners;\n\t\t\towners.push(this.user.id);\n\t\t\tconst members = this.members;\n\t\t\tconst name = this.name\n\t\t\tconst group = await createGroup(id, name, owners, projects, members);\n\t\t\tthis.$store.commit('createGroup', group);\n\t\t\tmembers.forEach(member => {\n\t\t\t\tupdateUserGroup(member, id);\n\t\t\t});\n\t\t\tthis.loading = true;\n\t\t\tthis.user.groups.push(id);\n\t\t\t//update each member of the group\n\t\t\tupdateUser(this.user);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.dialog = false;\n\t\t\t\tthis.$emit('memberAdded');\n\t\t\t}, 1000)\n\t\t}\n\t}\n}\n</script>\n"],"sourceRoot":"src/components"}]}